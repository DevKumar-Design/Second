{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../genesys-cloud.service\";\nimport * as i4 from \"../queue-details/queue-details.component\";\nimport * as i5 from \"../presence-picker/presence-picker.component\";\nfunction UserDetailsComponent_div_2_div_15_app_queue_details_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-queue-details\", 10);\n  }\n  if (rf & 2) {\n    const queue_r5 = ctx.$implicit;\n    i0.ɵɵproperty(\"queue\", queue_r5);\n  }\n}\nfunction UserDetailsComponent_div_2_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h3\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, UserDetailsComponent_div_2_div_15_app_queue_details_3_Template, 1, 1, \"app-queue-details\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Queues (\", ctx_r3.userQueues.length, \")\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.userQueues);\n  }\n}\nfunction UserDetailsComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 3);\n    i0.ɵɵelement(4, \"img\", 4);\n    i0.ɵɵelementStart(5, \"div\", 5)(6, \"div\", 6)(7, \"div\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(13, \"app-presence-picker\", 7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(14, \"hr\");\n    i0.ɵɵtemplate(15, UserDetailsComponent_div_2_div_15_Template, 4, 2, \"div\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.userDetails.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", ctx_r0.userAvatar, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Id: \", ctx_r0.userDetails.id, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Email: \", ctx_r0.userDetails.email, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Title: \", ctx_r0.userDetails.title || \"N/A\", \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"user\", ctx_r0.userDetails);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.userQueues);\n  }\n}\nfunction UserDetailsComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵelement(1, \"img\", 12);\n    i0.ɵɵelementEnd();\n  }\n}\nexport let UserDetailsComponent = /*#__PURE__*/(() => {\n  class UserDetailsComponent {\n    constructor(route, location, genesysCloudService) {\n      this.route = route;\n      this.location = location;\n      this.genesysCloudService = genesysCloudService;\n      this.userAvatar = 'assets/default-face.png';\n    }\n    ngOnInit() {\n      this.userId = this.route.snapshot.paramMap.get('id');\n      this.getUserDetails();\n      this.getUserQueues();\n    }\n    getUserDetails() {\n      if (!this.userId) throw Error('Invalid userID.');\n      this.genesysCloudService.getUserDetails(this.userId).subscribe(userDetails => {\n        this.userDetails = userDetails;\n        this.userAvatar = userDetails.images?.[userDetails.images.length - 1].imageUri || this.userAvatar;\n      });\n    }\n    getUserQueues() {\n      if (!this.userId) throw Error('Invalid userID.');\n      this.genesysCloudService.getUserQueues(this.userId).subscribe(userQueues => {\n        this.userQueues = userQueues;\n      });\n    }\n    goBack() {\n      this.location.back();\n    }\n    static #_ = this.ɵfac = function UserDetailsComponent_Factory(t) {\n      return new (t || UserDetailsComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Location), i0.ɵɵdirectiveInject(i3.GenesysCloudService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: UserDetailsComponent,\n      selectors: [[\"app-user-details\"]],\n      decls: 5,\n      vars: 2,\n      consts: [[1, \"btn-go-back\", 3, \"click\"], [4, \"ngIf\", \"ngIfElse\"], [\"userDetailsUnavailable\", \"\"], [1, \"user-details\"], [1, \"user-avatar\", 3, \"src\"], [1, \"user-right-section\"], [1, \"user-properties\"], [3, \"user\"], [4, \"ngIf\"], [3, \"queue\", 4, \"ngFor\", \"ngForOf\"], [3, \"queue\"], [1, \"spinner\"], [\"src\", \"assets/loading.svg\", \"alt\", \"Loading...\", \"srcset\", \"\"]],\n      template: function UserDetailsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"button\", 0);\n          i0.ɵɵlistener(\"click\", function UserDetailsComponent_Template_button_click_0_listener() {\n            return ctx.goBack();\n          });\n          i0.ɵɵtext(1, \" Go Back\\n\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(2, UserDetailsComponent_div_2_Template, 16, 7, \"div\", 1)(3, UserDetailsComponent_ng_template_3_Template, 2, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n        }\n        if (rf & 2) {\n          const _r2 = i0.ɵɵreference(4);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.userDetails)(\"ngIfElse\", _r2);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i4.QueueDetailsComponent, i5.PresencePickerComponent],\n      styles: [\"img.user-avatar[_ngcontent-%COMP%] {\\n  width: 150px;\\n  height: 150px;\\n  margin: 10px;\\n  margin-right: 50px;\\n  border-radius: 50%;\\n  border: 1px solid #ccc;\\n}\\n\\n.user-details[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: flex-start;\\n}\\n\\n.user-right-section[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-grow: 2;\\n  justify-content: space-between;\\n  padding-top: 20px;\\n}\\n\\nbutton.btn-go-back[_ngcontent-%COMP%] {\\n  padding: 8px;\\n  border: 0;\\n  border: 1px solid #ccc;\\n  background-color: #fff;\\n  cursor: pointer;\\n  color: #555;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdXNlci1kZXRhaWxzL3VzZXItZGV0YWlscy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBWTtFQUNaLGFBQWE7RUFDYixZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGtCQUFrQjtFQUNsQixzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsdUJBQXVCO0FBQ3pCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLFlBQVk7RUFDWiw4QkFBOEI7RUFDOUIsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsWUFBWTtFQUNaLFNBQVM7RUFDVCxzQkFBc0I7RUFDdEIsc0JBQXNCO0VBQ3RCLGVBQWU7RUFDZixXQUFXO0FBQ2IiLCJzb3VyY2VzQ29udGVudCI6WyJpbWcudXNlci1hdmF0YXIge1xyXG4gIHdpZHRoOiAxNTBweDtcclxuICBoZWlnaHQ6IDE1MHB4O1xyXG4gIG1hcmdpbjogMTBweDtcclxuICBtYXJnaW4tcmlnaHQ6IDUwcHg7XHJcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XHJcbn1cclxuXHJcbi51c2VyLWRldGFpbHMge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XHJcbn1cclxuXHJcbi51c2VyLXJpZ2h0LXNlY3Rpb24ge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1ncm93OiAyO1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICBwYWRkaW5nLXRvcDogMjBweDtcclxufVxyXG5cclxuYnV0dG9uLmJ0bi1nby1iYWNrIHtcclxuICBwYWRkaW5nOiA4cHg7XHJcbiAgYm9yZGVyOiAwO1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgY29sb3I6ICM1NTU7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n  return UserDetailsComponent;\n})();","map":{"version":3,"names":["i0","ɵɵelement","ɵɵproperty","queue_r5","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵtemplate","UserDetailsComponent_div_2_div_15_app_queue_details_3_Template","ɵɵadvance","ɵɵtextInterpolate1","ctx_r3","userQueues","length","UserDetailsComponent_div_2_div_15_Template","ɵɵtextInterpolate","ctx_r0","userDetails","name","userAvatar","ɵɵsanitizeUrl","id","email","title","UserDetailsComponent","constructor","route","location","genesysCloudService","ngOnInit","userId","snapshot","paramMap","get","getUserDetails","getUserQueues","Error","subscribe","images","imageUri","goBack","back","_","ɵɵdirectiveInject","i1","ActivatedRoute","i2","Location","i3","GenesysCloudService","_2","selectors","decls","vars","consts","template","UserDetailsComponent_Template","rf","ctx","ɵɵlistener","UserDetailsComponent_Template_button_click_0_listener","UserDetailsComponent_div_2_Template","UserDetailsComponent_ng_template_3_Template","ɵɵtemplateRefExtractor","_r2"],"sources":["C:\\Users\\amerluza\\temp\\prog\\genesys\\blueprints\\_all\\angular-app-with-genesys-cloud-sdk\\genesys-cloud-sample\\src\\app\\user-details\\user-details.component.ts","C:\\Users\\amerluza\\temp\\prog\\genesys\\blueprints\\_all\\angular-app-with-genesys-cloud-sdk\\genesys-cloud-sample\\src\\app\\user-details\\user-details.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { GenesysCloudService } from '../genesys-cloud.service';\nimport { Location } from '@angular/common';\nimport { ActivatedRoute } from '@angular/router';\nimport * as platformClient from 'purecloud-platform-client-v2';\n\n@Component({\n  selector: 'app-user-details',\n  templateUrl: './user-details.component.html',\n  styleUrls: ['./user-details.component.css']\n})\nexport class UserDetailsComponent implements OnInit {\n  userId?: string|null;\n  userDetails?: platformClient.Models.UserMe;\n  userQueues?: platformClient.Models.UserQueue[];\n  userAvatar: string = 'assets/default-face.png';\n\n  constructor(\n    private route: ActivatedRoute,\n    private location: Location,\n    private genesysCloudService: GenesysCloudService,\n  ) { }\n\n  ngOnInit(): void {\n    this.userId = this.route.snapshot.paramMap.get('id');\n  \n    this.getUserDetails();\n    this.getUserQueues();\n  }\n\n  getUserDetails(){\n    if(!this.userId) throw Error('Invalid userID.');\n\n    this.genesysCloudService.getUserDetails(this.userId)\n      .subscribe(userDetails => {\n        this.userDetails = userDetails\n        this.userAvatar = userDetails.images?.[userDetails.images.length - 1]\n                          .imageUri || this.userAvatar;\n      });\n  }\n\n  getUserQueues(){\n    if(!this.userId) throw Error('Invalid userID.');\n\n    this.genesysCloudService.getUserQueues(this.userId)\n      .subscribe(userQueues => {\n        this.userQueues = userQueues;\n      });\n  }\n\n  goBack(){\n    this.location.back();\n  }\n}\n","<button class=\"btn-go-back\" (click)=\"goBack()\">\n  Go Back\n</button>\n\n<div *ngIf=\"userDetails; else userDetailsUnavailable\">\n  <h2>{{userDetails.name}}</h2>\n\n  <div class=\"user-details\">\n    <img class=\"user-avatar\" [src]=\"userAvatar\">\n\n    <div class=\"user-right-section\">\n      <div class=\"user-properties\">\n        <div>Id: {{userDetails.id}}</div>\n        <div>Email: {{userDetails.email}}</div>\n        <div>Title: {{userDetails.title || 'N/A'}}</div>\n      </div>\n\n      <app-presence-picker [user]=\"userDetails\"></app-presence-picker>\n    </div>\n  </div>\n  \n  \n\n  <hr>\n\n  <div *ngIf=\"userQueues\">\n    <h3>Queues ({{userQueues.length}})</h3>\n    <app-queue-details *ngFor=\"let queue of userQueues\" [queue]=queue></app-queue-details>\n  </div>\n</div>\n\n<ng-template #userDetailsUnavailable>\n  <div class=\"spinner\">\n    <img src=\"assets/loading.svg\" alt=\"Loading...\" srcset=\"\">\n  </div>\n</ng-template>\n"],"mappings":";;;;;;;;IC2BIA,EAAA,CAAAC,SAAA,4BAAsF;;;;IAAlCD,EAAA,CAAAE,UAAA,UAAAC,QAAA,CAAa;;;;;IAFnEH,EAAA,CAAAI,cAAA,UAAwB;IAClBJ,EAAA,CAAAK,MAAA,GAA8B;IAAAL,EAAA,CAAAM,YAAA,EAAK;IACvCN,EAAA,CAAAO,UAAA,IAAAC,8DAAA,+BAAsF;IACxFR,EAAA,CAAAM,YAAA,EAAM;;;;IAFAN,EAAA,CAAAS,SAAA,GAA8B;IAA9BT,EAAA,CAAAU,kBAAA,aAAAC,MAAA,CAAAC,UAAA,CAAAC,MAAA,MAA8B;IACGb,EAAA,CAAAS,SAAA,GAAa;IAAbT,EAAA,CAAAE,UAAA,YAAAS,MAAA,CAAAC,UAAA,CAAa;;;;;IAvBtDZ,EAAA,CAAAI,cAAA,UAAsD;IAChDJ,EAAA,CAAAK,MAAA,GAAoB;IAAAL,EAAA,CAAAM,YAAA,EAAK;IAE7BN,EAAA,CAAAI,cAAA,aAA0B;IACxBJ,EAAA,CAAAC,SAAA,aAA4C;IAE5CD,EAAA,CAAAI,cAAA,aAAgC;IAEvBJ,EAAA,CAAAK,MAAA,GAAsB;IAAAL,EAAA,CAAAM,YAAA,EAAM;IACjCN,EAAA,CAAAI,cAAA,UAAK;IAAAJ,EAAA,CAAAK,MAAA,IAA4B;IAAAL,EAAA,CAAAM,YAAA,EAAM;IACvCN,EAAA,CAAAI,cAAA,WAAK;IAAAJ,EAAA,CAAAK,MAAA,IAAqC;IAAAL,EAAA,CAAAM,YAAA,EAAM;IAGlDN,EAAA,CAAAC,SAAA,8BAAgE;IAClED,EAAA,CAAAM,YAAA,EAAM;IAKRN,EAAA,CAAAC,SAAA,UAAI;IAEJD,EAAA,CAAAO,UAAA,KAAAO,0CAAA,iBAGM;IACRd,EAAA,CAAAM,YAAA,EAAM;;;;IAxBAN,EAAA,CAAAS,SAAA,GAAoB;IAApBT,EAAA,CAAAe,iBAAA,CAAAC,MAAA,CAAAC,WAAA,CAAAC,IAAA,CAAoB;IAGGlB,EAAA,CAAAS,SAAA,GAAkB;IAAlBT,EAAA,CAAAE,UAAA,QAAAc,MAAA,CAAAG,UAAA,EAAAnB,EAAA,CAAAoB,aAAA,CAAkB;IAIlCpB,EAAA,CAAAS,SAAA,GAAsB;IAAtBT,EAAA,CAAAU,kBAAA,SAAAM,MAAA,CAAAC,WAAA,CAAAI,EAAA,KAAsB;IACtBrB,EAAA,CAAAS,SAAA,GAA4B;IAA5BT,EAAA,CAAAU,kBAAA,YAAAM,MAAA,CAAAC,WAAA,CAAAK,KAAA,KAA4B;IAC5BtB,EAAA,CAAAS,SAAA,GAAqC;IAArCT,EAAA,CAAAU,kBAAA,YAAAM,MAAA,CAAAC,WAAA,CAAAM,KAAA,cAAqC;IAGvBvB,EAAA,CAAAS,SAAA,GAAoB;IAApBT,EAAA,CAAAE,UAAA,SAAAc,MAAA,CAAAC,WAAA,CAAoB;IAQvCjB,EAAA,CAAAS,SAAA,GAAgB;IAAhBT,EAAA,CAAAE,UAAA,SAAAc,MAAA,CAAAJ,UAAA,CAAgB;;;;;IAOtBZ,EAAA,CAAAI,cAAA,cAAqB;IACnBJ,EAAA,CAAAC,SAAA,cAAyD;IAC3DD,EAAA,CAAAM,YAAA,EAAM;;;ADvBR,WAAakB,oBAAoB;EAA3B,MAAOA,oBAAoB;IAM/BC,YACUC,KAAqB,EACrBC,QAAkB,EAClBC,mBAAwC;MAFxC,KAAAF,KAAK,GAALA,KAAK;MACL,KAAAC,QAAQ,GAARA,QAAQ;MACR,KAAAC,mBAAmB,GAAnBA,mBAAmB;MAL7B,KAAAT,UAAU,GAAW,yBAAyB;IAM1C;IAEJU,QAAQA,CAAA;MACN,IAAI,CAACC,MAAM,GAAG,IAAI,CAACJ,KAAK,CAACK,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC;MAEpD,IAAI,CAACC,cAAc,EAAE;MACrB,IAAI,CAACC,aAAa,EAAE;IACtB;IAEAD,cAAcA,CAAA;MACZ,IAAG,CAAC,IAAI,CAACJ,MAAM,EAAE,MAAMM,KAAK,CAAC,iBAAiB,CAAC;MAE/C,IAAI,CAACR,mBAAmB,CAACM,cAAc,CAAC,IAAI,CAACJ,MAAM,CAAC,CACjDO,SAAS,CAACpB,WAAW,IAAG;QACvB,IAAI,CAACA,WAAW,GAAGA,WAAW;QAC9B,IAAI,CAACE,UAAU,GAAGF,WAAW,CAACqB,MAAM,GAAGrB,WAAW,CAACqB,MAAM,CAACzB,MAAM,GAAG,CAAC,CAAC,CAClD0B,QAAQ,IAAI,IAAI,CAACpB,UAAU;MAChD,CAAC,CAAC;IACN;IAEAgB,aAAaA,CAAA;MACX,IAAG,CAAC,IAAI,CAACL,MAAM,EAAE,MAAMM,KAAK,CAAC,iBAAiB,CAAC;MAE/C,IAAI,CAACR,mBAAmB,CAACO,aAAa,CAAC,IAAI,CAACL,MAAM,CAAC,CAChDO,SAAS,CAACzB,UAAU,IAAG;QACtB,IAAI,CAACA,UAAU,GAAGA,UAAU;MAC9B,CAAC,CAAC;IACN;IAEA4B,MAAMA,CAAA;MACJ,IAAI,CAACb,QAAQ,CAACc,IAAI,EAAE;IACtB;IAAC,QAAAC,CAAA,G;uBAzCUlB,oBAAoB,EAAAxB,EAAA,CAAA2C,iBAAA,CAAAC,EAAA,CAAAC,cAAA,GAAA7C,EAAA,CAAA2C,iBAAA,CAAAG,EAAA,CAAAC,QAAA,GAAA/C,EAAA,CAAA2C,iBAAA,CAAAK,EAAA,CAAAC,mBAAA;IAAA;IAAA,QAAAC,EAAA,G;YAApB1B,oBAAoB;MAAA2B,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,8BAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCXjCzD,EAAA,CAAAI,cAAA,gBAA+C;UAAnBJ,EAAA,CAAA2D,UAAA,mBAAAC,sDAAA;YAAA,OAASF,GAAA,CAAAlB,MAAA,EAAQ;UAAA,EAAC;UAC5CxC,EAAA,CAAAK,MAAA,iBACF;UAAAL,EAAA,CAAAM,YAAA,EAAS;UAETN,EAAA,CAAAO,UAAA,IAAAsD,mCAAA,kBAyBM,IAAAC,2CAAA,gCAAA9D,EAAA,CAAA+D,sBAAA;;;;UAzBA/D,EAAA,CAAAS,SAAA,GAAmB;UAAnBT,EAAA,CAAAE,UAAA,SAAAwD,GAAA,CAAAzC,WAAA,CAAmB,aAAA+C,GAAA;;;;;;;SDOZxC,oBAAoB;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}